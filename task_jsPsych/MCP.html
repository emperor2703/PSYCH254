<html>
<head>
	<title>Moral Character and Personality</title>
    <!-- jQuery -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
	<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/black-tie/jquery-ui.min.css" rel="stylesheet" type="text/css"></link>
	<link rel="stylesheet" href="style.css"/>

	<!-- jsPsych -->
	<script src="jsPsych-4.0.1/jspsych.js"></script>
	<script src="jsPsych-4.0.1/plugins/jspsych-survey-likert.js"></script>
	<script src="jsPsych-4.0.1/plugins/jspsych-single-stim.js"></script>
	<script src="jsPsych-4.0.1/plugins/jspsych-text.js"></script>
    <script src="jsPsych-4.0.1/plugins/jspsych-html.js"></script>
	<!-- style -->
	<link href="jsPsych-4.0.1/css/jspsych.css" rel="stylesheet" type="text/css"></link>

</head>
<body>
<div class="slide" id="instructions">
    <p id='logo-text'>Evaluating Moral Character and Personality</p>
    <p class="block-text">In this experiment, you will read stories about two different individuals. You will then be asked to evaluate their moral character and personality. 
    </p>
    <button type="button" onclick="this.blur(); experiment.task()">Start</button>

    <p class="block-text" id="legal">Legal information: By answering the following questions, you are participating in a study being performed by cognitive scientists in the Stanford Department of Psychology. If you have questions about this research, please contact Yuan Chang Leong at <a href="mailto://ycleong@stanford.edu">ycleong@stanford.edu</a>.You must be at least 18 years old to participate. Your participation in this research is voluntary. You may decline to answer any or all of the following questions. You may decline further participation, at any time, without adverse consequences. Your anonymity is assured; the researchers who have requested your participation will not receive any personal information about you.</p>
</div>
<script src="experiment.js"></script>
</body>

<div class = "slide" id="task">
<div id="jspsych_target"> </div>
</div>
</html>

<script type="text/javascript">

var the_experiment = [];

var inst = '<p>Please read the following story carefully.</p><br><p><center>Press ENTER to continue.</center></p>'

var story = '<p>Justin and Nate independently came upon two seperate cash-filled wallets in the parking lot of a local grocery store. Justin was able to decide quickly what to do. Nate was only able to decide after long and careful deliberation.</p><br><p><center>Press ENTER to continue.</center></p>'

var story_text = {
    type:'text', 
    text: [inst,story],
    timing_post_trial:0,
    cont_key: 13};

the_experiment.push(story_text);

var moral_d = '<p>Both men did not steal the money but instead left the wallet with customer service.</p><br><p><center>Press ENTER to continue.</center></p>'

var immoral_d = '<p>Both men pocketed the money and drove off.</p><br><p><center>Press ENTER to continue.</center></p>'


if (Math.random() < 0.5){
    var decision = {
    type:'text', 
    text: [moral_d],
    timing_post_trial:0,
    cont_key: 13};
}
else {
    var decision = {
    type:'text', 
    text: [immoral_d],
    timing_post_trial:0,
    cont_key: 13};
}

the_experiment.push(decision);

var MC_question = ["How quickly did Justin make his decision?", "How quickly did Nate make his decision?"];
var scale_1 = ["Very Slowly","Very Quickly"];

var MC = {
            type: 'survey-likert',
            questions: [MC_question],
            labels: [[scale_1,scale_1]], // need one scale for every question on a page
            intervals: [[7,7]] // note the the intervals and labels don't necessarily need to match.
        };

the_experiment.push(MC);

var survey_questions = ["Do you think Justin has good or bad moral principles?", 
    "Do you think Justin has good or bad moral standards?",
    "Do you think deep down Justin has the moral principles and knowledge to do the right thing?",
    "How conflicted do you think Justin felt when making his decision?",
    "How many reservations do you think Justin had when making his decision?",
    "Do you think Justin was quite certain in his decision?",
    "How far do you think Justin was from choosing the alternate course of action?",
    "To what extent do you think Justin remained calm and emotionally contained when making his decision?",
    "To what extent do you think Justin became upset and acted without thinking?",
    
    "Do you think Nate has good or bad moral principles?", 
    "Do you think Nate has good or bad moral standards?",
    "Do you think deep down Nate has the moral principles and knowledge to do the right thing?",
    "How conflicted do you think Nate felt when making his decision?",
    "How many reservations do you think Nate had when making his decision?",
    "Do you think Nate was quite certain in his decision, or did have considerable reservations?",
    "How far do you think Nate was from choosing the alternate course of action?",
    "To what extent do you think Nate remained calm and emotionally contained when making his decision?",
    "To what extent do you think Nate became upset and acted without thinking?"
    ];

var s1 = ["Very Bad","Very Good"];
var s2 = ["Very Bad","Very Good"];
var s3 = ["Very Unlikely","Very Likely"];
var s4 = ["Very Conflicted","Not Conflicted"];
var s5 = ["No Reservations","Many Reservations"];
var s6 = ["Very Certain","Not Certain"]
var s7 = ["Very Far","Not Far"]
var s8 = ["To a small extent","To a large extent"]
var s9 = ["To a small extent","To a large extent"]

var survey= {
            type: 'survey-likert',
            questions: [survey_questions],
            labels: [[s1,s2,s3,s4,s5,s6,s7,s8,s9,s1,s2,s3,s4,s5,s6,s7,s8,s9]], // need one scale for every question on a page
            intervals: [[7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7]] // note the the intervals and labels don't necessarily need to match.
        };

the_experiment.push(survey);

jsPsych.init({
    display_element: $('#jspsych_target'),
    experiment_structure: the_experiment,
    on_finish: function(data) {
    $('#jspsych_target').append($('<pre>', {
        html: JSON.stringify(data, undefined, 2)
    }))}
});
</script>
