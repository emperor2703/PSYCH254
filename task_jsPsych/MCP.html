<html>
<head>
	<title>Moral Character and Personality</title>
    <!-- jQuery -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
	<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/black-tie/jquery-ui.min.css" rel="stylesheet" type="text/css"></link>
	<link rel="stylesheet" href="style.css"/>

	<!-- jsPsych -->
	<script src="jsPsych-4.0.1/jspsych.js"></script>
	<script src="jsPsych-4.0.1/plugins/jspsych-survey-likert.js"></script>
	<script src="jsPsych-4.0.1/plugins/jspsych-single-stim.js"></script>
	<script src="jsPsych-4.0.1/plugins/jspsych-text.js"></script>
    <script src="jsPsych-4.0.1/plugins/jspsych-html.js"></script>
	<!-- style -->
	<link href="jsPsych-4.0.1/css/jspsych.css" rel="stylesheet" type="text/css"></link>

</head>
<body>
<div class="slide" id="instructions">
    <p id='logo-text'>Evaluating Moral Character and Personality</p>
    <p class="block-text">In this experiment, you will read stories about two different individuals. You will then be asked to evaluate their moral character and personality. 
    </p>
    <button type="button" onclick="this.blur(); experiment.task()">Start</button>

    <p class="block-text" id="legal">Legal information: By answering the following questions, you are participating in a study being performed by cognitive scientists in the Stanford Department of Psychology. If you have questions about this research, please contact Yuan Chang Leong at <a href="mailto://ycleong@stanford.edu">ycleong@stanford.edu</a>.You must be at least 18 years old to participate. Your participation in this research is voluntary. You may decline to answer any or all of the following questions. You may decline further participation, at any time, without adverse consequences. Your anonymity is assured; the researchers who have requested your participation will not receive any personal information about you.</p>
</div>
<script src="experiment.js"></script>
</body>

<div class = "slide" id="task">
<div id="jspsych_target"> </div>
</div>
</html>

<script type="text/javascript">

var the_experiment = [];

var inst = '<p>Please read the following story carefully.</p><br><p><center>Press ENTER to continue.</center></p>'

var moral_story = '<p>Justin and Nate were walking to separate cars in the parking lot of Andronicos, a local grocery store, where they each spotted a different lost wallet next to the cars. Upon picking up the wallet and looking inside, each found several hundred dollars in cash. Each man considered whether he should return the wallet and money to the Customer Service desk at Andronicos, or pocket the money and drive away.</p><p> Justin saw his decision as an easy one and was <i> able to decide quickly. He did not steal the money </i> and instead left the wallet with Customer Service</p><p> In contrast, Nate saw his decision as difficult and <i> was only able to decide after long and careful deliberation </i>. After several minutes of thinking in his car, <i> he too decided not to steal the money </i> and instead left the wallet with customer service </p>'

var immoral_story = '<p>Justin and Nate were walking to separate cars in the parking lot of Andronicos, a local grocery store, where they each spotted a different lost wallet next to the cars. Upon picking up the wallet and looking inside, each found several hundred dollars in cash. Each man considered whether he should return the wallet and money to the Customer Service desk at Andronicos, or pocket the money and drive away.</p><p> Justin saw his decision as an easy one and was <i> able to decide quickly. He pocketed the money and drove off </i></p><p> In contrast, Nate saw his decision as difficult and <i> was only able to decide after long and careful deliberation </i>. After several minutes of thinking in his car, <i> he too decided to pocket the money and drive off</p>'


if (Math.random() < 0.5){
    var cond = 'moral';
    var story = {
    type:'text', 
    text: [moral_story],
    timing_post_trial:0,
    cont_key: 13};
}
else {
    var cond = 'immoral';
    var story = {
    type:'text', 
    text: [immoral_story],
    timing_post_trial:0,
    cont_key: 13};
}

the_experiment.push(story);

// Manipulation Check
var MC_question = ["How quickly did Justin make his decision?", "How quickly did Nate make his decision?"];
var scale_1 = ["Very Slowly","Very Quickly"];

var MC = {
            type: 'survey-likert',
            questions: [MC_question],
            labels: [[scale_1,scale_1]], // need one scale for every question on a page
            intervals: [[7,7]] // note the the intervals and labels don't necessarily need to match.
        };
the_experiment.push(MC);

// Certainty

/* var J1 = ["How conflicted do you think Justin felt when making his decision?"]
var J2 = ["How many reservations do you think Justin had when making his decision?"]
var J3 = ["Do you think Justin was quite certain in his decision?"]
var J4 = ["How far do you think Justin was from choosing the alternate course of action?"]*/

var certainty_questions_J = ["How conflicted do you think Justin felt when making his decision?", "How many reservations do you think Justin had when making his decision?","Do you think Justin was quite certain in his decision?","How far do you think Justin was from choosing the alternate course of action?"]

var s1 = ["Very Conflicted","Not Conflicted"];
var s2 = ["No Reservations","Many Reservations"];
var s3 = ["Very Certain","Not Certain"]
var s4 = ["Very Far","Not Far"]

// Moral Evaluation
/* var J5 = ["Do you think Justin has good or bad moral principles?"]
var J6 = ["Do you think Justin has good or bad moral standards?"] 
var J7= ["Do you think deep down Justin has the moral principles and knowledge to do the right thing?"]*/

var moral_questions_J = ["Do you think Justin has good or bad moral principles?","Do you think Justin has good or bad moral standards?","Do you think deep down Justin has the moral principles and knowledge to do the right thing?"]

var s5 = ["Very Bad","Very Good"];
var s6 = ["Very Bad","Very Good"];
var s7 = ["Very Unlikely","Very Likely"];

// Emotional Impulsivity
/*var J8 = ["To what extent do you think Justin remained calm and emotionally contained when making his decision?"] 
var J9 = ["To what extent do you think Justin became upset and acted without thinking?"]*/

var emotional_questions_J = ["To what extent do you think Justin remained calm and emotionally contained when making his decision?","To what extent do you think Justin became upset and acted without thinking?"]

var s8 = ["To a small extent","To a large extent"]
var s9 = ["To a small extent","To a large extent"]

var survey_Justin = {
            type: 'survey-likert',
            questions: [certainty_questions_J,moral_questions_J,emotional_questions_J],
            labels:[[s1,s2,s3,s4],[s5,s6,s7],[s8,s9]], // need one scale for every question on a page
            intervals:[[7,7,7,7],[7,7,7],[7,7]], // note the the intervals and labels don't necessarily need to match.
        };
the_experiment.push(survey_Justin);

/*var N1 = ["How conflicted do you think Nate felt when making his decision?"]
var N2 = ["How many reservations do you think Nate had when making his decision?"]
var N3 = ["Do you think Nate was quite certain in his decision?"]
var N4 = ["How far do you think Nate was from choosing the alternate course of action?"]
var N5 = ["Do you think Nate has good or bad moral principles?"]
var N6 = ["Do you think Nate has good or bad moral standards?"] 
var N7= ["Do you think deep down Nate has the moral principles and knowledge to do the right thing?"]
var N8 = ["To what extent do you think Nate remained calm and emotionally contained when making his decision?"] 
var N9 = ["To what extent do you think Nate became upset and acted without thinking?"]*/

var certainty_questions_N = ["How conflicted do you think Nate felt when making his decision?", "How many reservations do you think Nate had when making his decision?","Do you think Nate was quite certain in his decision?","How far do you think Nate was from choosing the alternate course of action?"]

var moral_questions_N = ["Do you think Nate has good or bad moral principles?","Do you think Nate has good or bad moral standards?","Do you think deep down Nate has the moral principles and knowledge to do the right thing?"]

var emotional_questions_N = ["To what extent do you think Nate remained calm and emotionally contained when making his decision?","To what extent do you think Nate became upset and acted without thinking?"]

var survey_Nate = {
            type: 'survey-likert',
            questions: [certainty_questions_N,moral_questions_N,emotional_questions_N],
            labels:[[s1,s2,s3,s4],[s5,s6,s7],[s8,s9]], // need one scale for every question on a page
            intervals:[[7,7,7,7],[7,7,7],[7,7]], // note the the intervals and labels don't necessarily need to match.
        };
the_experiment.push(survey_Nate);

jsPsych.init({
    display_element: $('#jspsych_target'),
    experiment_structure: the_experiment,
    on_finish: function(data) {
    $('#jspsych_target').append($('<pre>', {
        html: JSON.stringify(data, undefined, 2)
    }))}
});
</script>
